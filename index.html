<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Functional Programming in Rust</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme"><style>.listingblock .pygments .hll { background-color: #49483e }
.listingblock .pygments, .listingblock .pygments code { background: #272822; color: #f8f8f2 }
.listingblock .pygments .tok-c { color: #75715e } /* Comment */
.listingblock .pygments .tok-err { color: #960050; background-color: #1e0010 } /* Error */
.listingblock .pygments .tok-k { color: #66d9ef } /* Keyword */
.listingblock .pygments .tok-l { color: #ae81ff } /* Literal */
.listingblock .pygments .tok-n { color: #f8f8f2 } /* Name */
.listingblock .pygments .tok-o { color: #f92672 } /* Operator */
.listingblock .pygments .tok-p { color: #f8f8f2 } /* Punctuation */
.listingblock .pygments .tok-ch { color: #75715e } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #75715e } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #75715e } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #75715e } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #75715e } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #75715e } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #f92672 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gi { color: #a6e22e } /* Generic.Inserted */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #75715e } /* Generic.Subheading */
.listingblock .pygments .tok-kc { color: #66d9ef } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #66d9ef } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #f92672 } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #66d9ef } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #66d9ef } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #66d9ef } /* Keyword.Type */
.listingblock .pygments .tok-ld { color: #e6db74 } /* Literal.Date */
.listingblock .pygments .tok-m { color: #ae81ff } /* Literal.Number */
.listingblock .pygments .tok-s { color: #e6db74 } /* Literal.String */
.listingblock .pygments .tok-na { color: #a6e22e } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #f8f8f2 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #a6e22e } /* Name.Class */
.listingblock .pygments .tok-no { color: #66d9ef } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #a6e22e } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #f8f8f2 } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #a6e22e } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #a6e22e } /* Name.Function */
.listingblock .pygments .tok-nl { color: #f8f8f2 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #f8f8f2 } /* Name.Namespace */
.listingblock .pygments .tok-nx { color: #a6e22e } /* Name.Other */
.listingblock .pygments .tok-py { color: #f8f8f2 } /* Name.Property */
.listingblock .pygments .tok-nt { color: #f92672 } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #f8f8f2 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #f92672 } /* Operator.Word */
.listingblock .pygments .tok-w { color: #f8f8f2 } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #ae81ff } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #ae81ff } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #ae81ff } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #ae81ff } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #ae81ff } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #e6db74 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #e6db74 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #e6db74 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #e6db74 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #e6db74 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #e6db74 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #ae81ff } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #e6db74 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #e6db74 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #e6db74 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #e6db74 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #e6db74 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #e6db74 } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #a6e22e } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #f8f8f2 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #f8f8f2 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #f8f8f2 } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #f8f8f2 } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #ae81ff } /* Literal.Number.Integer.Long */</style><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet"><script>document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script></head><body><div class="reveal"><div class="slides"><section class="title"><h1>Functional Programming in Rust</h1></section><section id="_plan"><h2>Plan</h2><div class="ulist"><ul><li><p>Basics of Rust</p></li><li><p>Traits</p></li><li><p>Generics</p></li><li><p>Error handling</p></li><li><p>Closures</p></li><li><p>Iterators</p></li><li><p>Memory management</p></li><li><p>Exercices</p></li></ul></div></section>
<section><section id="_rust"><h2>Rust</h2><div class="ulist"><ul><li><p>Designed by Mozilla, released in 2010</p></li><li><p>Multi-paradigm (imperative, functional, concurrent)</p></li><li><p>Static and strongly typed (with type inference)</p></li><li><p>Safe</p></li><li><p>Low-level</p></li><li><p>Servo web engine</p></li></ul></div></section><section id="_strengths_of_rust"><h2>Strengths of Rust</h2><div class="ulist"><ul><li><p>Zero-cost abstractions</p></li><li><p>Concurrent programming</p></li><li><p>Safe:</p><div class="ulist"><ul><li><p>No null pointers</p></li><li><p>No use after free</p></li><li><p>No use before initialization</p></li><li><p>Immutable variables by default</p></li><li><p>No memory leaks</p></li></ul></div></li></ul></div></section><section id="_hello_world"><h2>Hello World!</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;Hello World!&quot;</span><span class="tok-p">);</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p><code>println!</code> is a macro.</p></li></ol></div></section><section id="_variable"><h2>Variable</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">number</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">42</span><span class="tok-p">;</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">number</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">42</span><span class="tok-p">;</span><span class="tok-w">      </span><b>(2)</b>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">number</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">24</span><span class="tok-p">;</span><span class="tok-w">  </span><b>(3)</b></code></pre></div></div>
<div class="colist arabic"><ol><li><p>32-bit signed integer variable</p></li><li><p>specifying the type is optional thanks to type inference</p></li><li><p>mutable variable</p></li></ol></div></section><section id="_structure"><h2>Structure</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">struct</span> <span class="tok-nc">Person</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">firstname</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">lastname</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">age</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">u8</span><span class="tok-p">,</span><span class="tok-w">                         </span><b>(1)</b>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Person</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">full_name</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w">  </span><b>(2)</b> <b>(3)</b>
<span class="tok-w">        </span><span class="tok-n">format</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{} {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">firstname</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">lastname</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>8-bit unsigned integer</p></li><li><p><code>self</code> is the current instance</p></li><li><p><code>&amp;</code> specify that self is passed by reference</p></li></ol></div></section><section id="_use_of_structures"><h2>Use of structures</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">lastname</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-s">&quot;Hoare&quot;</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">firstname</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-s">&quot;Graydon&quot;</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">person</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Person</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">age</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-mi">42</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">lastname</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">lastname</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">firstname</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">};</span><span class="tok-w"></span>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">full_name</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">person</span><span class="tok-p">.</span><span class="tok-n">full_name</span><span class="tok-p">();</span><span class="tok-w"></span></code></pre></div></div></section><section id="_attribute"><h2>Attribute</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-cp">#[derive(Clone)]</span><span class="tok-w"></span>
<span class="tok-k">struct</span> <span class="tok-nc">Person</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">firstname</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">lastname</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">age</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">u8</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_pattern_matching"><h2>Pattern matching</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">number</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-mi">1</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;one&quot;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-mi">2</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;two&quot;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-mi">3</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-mi">4</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;three or four&quot;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-mi">5</span><span class="tok-w"> </span><span class="tok-p">...</span><span class="tok-w"> </span><span class="tok-mi">10</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;between 5 and 10&quot;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">_</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;other&quot;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_pattern_matching_destructuring"><h2>Pattern matching (destructuring)</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">enum</span> <span class="tok-nc">List</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">List</span><span class="tok-o">&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">sum_list</span><span class="tok-p">(</span><span class="tok-n">list</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">List</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">list</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">List</span><span class="tok-o">::</span><span class="tok-n">Empty</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">List</span><span class="tok-o">::</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">element</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">rest</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">element</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">sum_list</span><span class="tok-p">(</span><span class="tok-n">rest</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_pattern_matching_code_if_code"><h2>Pattern matching (<code>if</code>)</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">is_empty</span><span class="tok-p">(</span><span class="tok-n">list</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">List</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">List</span><span class="tok-o">::</span><span class="tok-n">Empty</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">list</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kc">true</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kc">false</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_pattern_matching_code_for_code_loop"><h2>Pattern matching (<code>for</code> loop)</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">10</span><span class="tok-p">..</span><span class="tok-mi">20</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">index</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">enumerate</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;Num {} at index {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">index</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">10</span><span class="tok-p">..</span><span class="tok-mi">20</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">tuple</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">enumerate</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;Num {} at index {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">tuple</span><span class="tok-p">.</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">tuple</span><span class="tok-p">.</span><span class="tok-mi">0</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_expressions"><h2>Expressions</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">text</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">number</span><span class="tok-w"> </span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-mi">42</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w">      </span><b>(1)</b>
<span class="tok-w">        </span><span class="tok-s">&quot;greater than 42&quot;</span><span class="tok-w"> </span><b>(2)</b>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-s">&quot;lesser than or equal to 42&quot;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p><code>if</code> is an expression</p></li><li><p>no semicolon</p></li></ol></div></section><section id="_function"><h2>Function</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">max</span><span class="tok-p">(</span><span class="tok-n">number1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">number2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">number1</span><span class="tok-w"> </span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">number2</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">number1</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">number2</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section></section>
<section><section id="_traits"><h2>Traits</h2><div class="ulist"><ul><li><p>Ad-hoc polymorphism (function/operator overloading)</p></li><li><p>A set of methods and types that can be defined for a type</p></li><li><p>Useful for generic functions</p></li><li><p>Very similar to typeclasses in Haskell</p></li><li><p>Similar to interfaces in OO languages</p></li></ul></div></section><section id="_example_of_traits"><h2>Example of traits</h2><div class="ulist"><ul><li><p>Display</p></li><li><p>Debug</p></li><li><p>Eq</p></li><li><p>Ord</p></li><li><p>Add</p></li><li><p>Sub</p></li><li><p>Mul</p></li></ul></div></section><section id="_the_debug_trait"><h2>The Debug trait</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-cp">#[derive(Debug)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">List</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">Point</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">List</span><span class="tok-o">&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">List</span><span class="tok-o">::</span><span class="tok-p">{</span><span class="tok-n">Cons</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Empty</span><span class="tok-p">};</span><span class="tok-w"></span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">p1</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Point</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">2</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">p2</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Point</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">3</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">p3</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Point</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">4</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">p4</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Point</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">5</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{:?}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p2</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p3</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p4</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Empty</span><span class="tok-p">)))))))));</span><span class="tok-w"></span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code>Cons(Point { x: 1, y: 2 }, Cons(Point { x: 2, y: 3 }, Cons(Point { x: 3, y: 4 }, Cons(Point { x: 4, y: 5 }, Empty))))</code></pre></div></div></section><section id="_the_debug_trait_continued"><h2>The Debug Trait (continued)</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{:#?}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p2</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p3</span><span class="tok-p">,</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-w">    </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">p4</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Empty</span><span class="tok-p">)))))))));</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>Usage of <code>{:#?}</code> instead of <code>{:?}</code></p></li></ol></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code>Cons(
    Point {
        x: 1,
        y: 2
    },
    Cons(
        Point {
            x: 2,
            y: 3
        },
        Cons(
            Point {
                x: 3,
                y: 4
            },
            Cons(
                Point {
                    x: 4,
                    y: 5
                },
                Empty
            )
        )
    )
)</code></pre></div></div></section><section id="_rules_of_trait_implementations"><h2>Rules of trait implementations</h2><div class="ulist"><ul><li><p>The trait must be in scope to use its methods</p></li><li><p>Either the type or the trait must be defined in the same crate as the implementation</p></li></ul></div></section><section id="_example"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">trait</span><span class="tok-w"> </span><span class="tok-n">Read</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read</span><span class="tok-p">(</span><span class="tok-n">string</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">Self</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Read</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read</span><span class="tok-p">(</span><span class="tok-n">string</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">string</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_more_about_traits"><h2>More about traits</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">trait</span><span class="tok-w"> </span><span class="tok-n">Equal</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">equal</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">not_equal</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-w">        </span><span class="tok-o">!</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">equal</span><span class="tok-p">(</span><span class="tok-n">other</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">trait</span><span class="tok-w"> </span><span class="tok-n">Ordered</span><span class="tok-w"> </span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">Equal</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w">                         </span><b>(2)</b>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">lesser_than_or_equal</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">lesser_than</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-o">!</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">greater_than_or_equal</span><span class="tok-p">(</span><span class="tok-n">other</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">greater_than</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-o">!</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">lesser_than_or_equal</span><span class="tok-p">(</span><span class="tok-n">other</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">greater_than_or_equal</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">other</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">greater_than</span><span class="tok-p">(</span><span class="tok-n">other</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">||</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">equal</span><span class="tok-p">(</span><span class="tok-n">other</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>Default implementation of the method</p></li><li><p>The types implementing <code>Ordered</code> must also implement <code>Equal</code></p></li></ol></div></section></section>
<section><section id="_generics"><h2>Generics</h2><div class="ulist"><ul><li><p>Parametric polymorphism (generic function or type)</p></li><li><p>Way to avoid code duplication</p></li><li><p>Static dispatch when using trait bounds</p></li></ul></div></section><section id="_attempt_at_creating_a_generic_function"><h2>Attempt at creating a generic function</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">min</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">a</span><span class="tok-w"> </span><span class="tok-o">&lt;</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">a</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">b</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code>error[E0369]: binary operation `&lt;` cannot be applied to type `T`
   --&gt; src/main.rs:227:8
    |
227 |     if a &lt; b {
    |        ^^^^^
    |
    = note: an implementation of `std::cmp::PartialOrd` might be missing for `T`</code></pre></div></div></section><section id="_example_2"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">min</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">PartialOrd</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">a</span><span class="tok-w"> </span><span class="tok-o">&lt;</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">a</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">b</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">min</span><span class="tok-p">(</span><span class="tok-mi">24</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">42</span><span class="tok-p">));</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>The type <code>T</code> must implement <code>PartialOrd</code></p></li></ol></div></section><section id="_generic_type"><h2>Generic type</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">enum</span> <span class="tok-nc">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">enum</span> <span class="tok-nc">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">Eq</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">enum</span> <span class="tok-nc">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">T</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">Eq</span><span class="tok-w"></span>
<span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_setting_the_generic_type"><h2>Setting the generic type</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">list</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Cons</span><span class="tok-o">::&lt;</span><span class="tok-kt">u8</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-mi">42</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Empty</span><span class="tok-o">::&lt;</span><span class="tok-kt">u8</span><span class="tok-o">&gt;</span><span class="tok-p">));</span><span class="tok-w"> </span><b>(1)</b>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">list</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-kt">u8</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-mi">42</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">Empty</span><span class="tok-p">));</span><span class="tok-w"></span>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">tail</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Empty</span><span class="tok-p">;</span><span class="tok-w">                                 </span><b>(2)</b>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">list</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Cons</span><span class="tok-p">(</span><span class="tok-mi">42</span><span class="tok-k">u8</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">tail</span><span class="tok-p">));</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>This looks like a fish <code>::&lt;&gt;</code></p></li><li><p>The compiler knows <code>tail</code> has type <code>List&lt;u8&gt;</code> because it is used with an <code>u8</code> afterwards</p></li></ol></div></section></section>
<section><section id="_error_handling"><h2>Error Handling</h2><div class="ulist"><ul><li><p>Option</p></li><li><p>Result</p></li><li><p>Macros</p></li><li><p>No null</p></li><li><p>No exceptions</p></li></ul></div></section><section id="_option"><h2>Option</h2><div class="ulist"><ul><li><p>Encode the absence of value in the type itself</p></li><li><p>Cannot access the value directly</p></li><li><p>Like the <code>Maybe</code> type in Haskell</p></li></ul></div></section><section id="_example_3"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">vector</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">vec</span><span class="tok-o">!</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">3</span><span class="tok-p">];</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">value</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">vector</span><span class="tok-p">.</span><span class="tok-n">first</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Some</span><span class="tok-p">(</span><span class="tok-n">value</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">value</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">None</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span></code></pre></div></div></section><section id="_methods"><h2>Methods</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">unwrap_or</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span><span class="tok-w"></span>

<span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">unwrap_or_default</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-kt">i32</span><span class="tok-o">::</span><span class="tok-n">abs</span><span class="tok-p">)</span><span class="tok-w"></span>

<span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">map_or</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-o">::</span><span class="tok-n">abs</span><span class="tok-p">)</span><span class="tok-w"></span>

<span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">and_then</span><span class="tok-p">(</span><span class="tok-n">parse_int</span><span class="tok-p">)</span><span class="tok-w"></span>

<span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">cloned</span><span class="tok-p">()</span><span class="tok-w"></span></code></pre></div></div></section><section id="_result"><h2>Result</h2><div class="ulist"><ul><li><p>Encode the error in the type</p></li><li><p><code>#[must_use]</code></p></li><li><p>Like the <code>Either</code> type in Haskell</p></li><li><p>Methods similar to <code>Option</code></p></li></ul></div></section><section id="_example_4"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-s">&quot;42&quot;</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-o">::&lt;</span><span class="tok-kt">i32</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">value</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">value</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;Error: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_the_code_code_operator"><h2>The <code>?</code> operator</h2><div class="ulist"><ul><li><p>Get the result or return the error if any</p></li><li><p>Shortcut for pattern matching</p></li><li><p>Useful when you have multiple <code>Result</code> s, especially of different types.</p></li></ul></div></section><section id="_example_5"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">sum_string</span><span class="tok-p">(</span><span class="tok-n">str1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">str1</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">num1</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">sum_string</span><span class="tok-p">(</span><span class="tok-n">str1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">str1</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-k">return</span><span class="tok-w"> </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-k">return</span><span class="tok-w"> </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">num1</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_no_exceptions"><h2>No Exceptions</h2></section><section id="_panics"><h2>Panics</h2><div class="ulist"><ul><li><p>Panic the thread</p><div class="ulist"><ul><li><p>Unwind the stack (default)</p></li><li><p>Abort</p></li></ul></div></li></ul></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-n">panic</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;don&#39;t panic&quot;</span><span class="tok-p">);</span><span class="tok-w"></span>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-s">&quot;rebar&quot;</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-o">::&lt;</span><span class="tok-kt">i32</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">is_err</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">panic</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;Cannot parse: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div></section><section id="_other_macros"><h2>Other macros</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-n">unimplemented</span><span class="tok-o">!</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-n">unreachable</span><span class="tok-o">!</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-n">assert</span><span class="tok-o">!</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-n">assert_eq</span><span class="tok-o">!</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-n">assert_ne</span><span class="tok-o">!</span><span class="tok-p">()</span><span class="tok-w"></span>

<span class="tok-c1">// (and their `debug_*` variants)</span></code></pre></div></div></section><section id="_backtrace_code_rust_backtrace_1_code"><h2>Backtrace (<code>RUST_BACKTRACE=1</code>)</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="bash language-bash"><span></span>thread <span class="tok-s1">&#39;main&#39;</span> panicked at <span class="tok-s1">&#39;Cannot parse: rebar&#39;</span>, src/main.rs:136:8
note: Run with <span class="tok-sb">`</span><span class="tok-nv">RUST_BACKTRACE</span><span class="tok-o">=</span><span class="tok-m">1</span><span class="tok-sb">`</span> <span class="tok-k">for</span> a backtrace.
<span class="tok-c1"># with RUST_BACKTRACE=1</span>
thread <span class="tok-s1">&#39;main&#39;</span> panicked at <span class="tok-s1">&#39;Cannot parse: rebar&#39;</span>, src/main.rs:136:8
stack backtrace:
<span class="tok-c1"># []</span>
   <span class="tok-m">7</span>: functional_rust::main
             at src/main.rs:136
   <span class="tok-m">8</span>: __rust_maybe_catch_panic
             at /checkout/src/libpanic_unwind/lib.rs:98
   <span class="tok-m">9</span>: std::rt::lang_start
             at /checkout/src/libstd/panicking.rs:459
             at /checkout/src/libstd/panic.rs:361
             at /checkout/src/libstd/rt.rs:61
  <span class="tok-m">10</span>: main
<span class="tok-c1"># []</span></code></pre></div></div></section></section>
<section><section id="_closures"><h2>Closures</h2><div class="ulist"><ul><li><p>Function without name</p></li><li><p>Type inference</p></li><li><p>Can have an environment</p></li><li><p>Allocated on the stack by default</p></li></ul></div></section><section id="_example_6"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">inc_opt</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">optional</span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">num</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-mi">1</span><span class="tok-p">);</span><span class="tok-w">         </span><b>(1)</b>

<span class="tok-k">fn</span> <span class="tok-nf">sum_string</span><span class="tok-p">(</span><span class="tok-n">str1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">str1</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">and_then</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">num1</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w">  </span><b>(2)</b> <b>(3)</b>
<span class="tok-w">            </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-kt">i32</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">str2</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">num1</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">num2</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>Closure incrementing a number</p></li><li><p>Argument and return types</p></li><li><p>Block of code</p></li></ol></div></section><section id="_function_as_a_parameter"><h2>Function as a parameter</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">trait</span><span class="tok-w"> </span><span class="tok-n">Functor</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">fmap</span><span class="tok-o">&lt;</span><span class="tok-n">F</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">O</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">func</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">O</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">Fn</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">Self</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">O</span><span class="tok-p">;</span><span class="tok-w">                              </span><b>(1)</b>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">two</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">2</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-n">println</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{:?}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mf">40.</span><span class="tok-n">fmap</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">num</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">two</span><span class="tok-p">).</span><span class="tok-n">to_string</span><span class="tok-p">()));</span><span class="tok-w"> </span><b>(2)</b></code></pre></div></div>
<div class="colist arabic"><ol><li><p>Generic parameter that must implement this <code>Fn</code> trait</p></li><li><p>Capture the variable <code>two</code></p></li></ol></div></section><section id="_return_a_closure"><h2>Return a closure</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">compose</span><span class="tok-o">&lt;</span><span class="tok-n">A</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">B</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">C</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">G</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">g</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">G</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-nb">Fn</span><span class="tok-p">(</span><span class="tok-n">A</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">C</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">Fn</span><span class="tok-p">(</span><span class="tok-n">A</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">B</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-nb">&#39;static</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">      </span><span class="tok-n">G</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">Fn</span><span class="tok-p">(</span><span class="tok-n">B</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">-&gt;</span><span class="tok-w"> </span><span class="tok-n">C</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-nb">&#39;static</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Box</span><span class="tok-o">::</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-k">move</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-n">value</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">g</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-n">value</span><span class="tok-p">)))</span><span class="tok-w">                   </span><b>(2)</b>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>The most common way to return a closure on stable Rust is to <code>Box</code> it</p></li><li><p>The keyword <code>move</code> indicates that the environment is moved into the closure</p></li></ol></div></section></section>
<section><section id="_iterators"><h2>Iterators</h2><div class="ulist"><ul><li><p>High-level, but zero cost</p></li><li><p>Adapters, like <code>filter</code> and <code>map</code></p></li><li><p>Used in <code>for</code> loops</p></li><li><p>Immutability</p></li><li><p><code>Iterator</code> trait</p></li></ul></div></section><section id="_example_7"><h2>Example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-s">b&quot;RustConf, August 18-19 | Portland&quot;</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-nb">String</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w">                      </span><b>(1)</b> <b>(2)</b>
<span class="tok-w">    </span><span class="tok-n">string</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">()</span><span class="tok-w">                         </span><b>(3)</b>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">byte</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">byte</span><span class="tok-p">.</span><span class="tok-n">to_ascii_uppercase</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">take_while</span><span class="tok-p">(</span><span class="tok-o">|&amp;</span><span class="tok-n">byte</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">byte</span><span class="tok-w"> </span><span class="tok-o">!=</span><span class="tok-w"> </span><span class="tok-sc">b&#39;|&#39;</span><span class="tok-p">)</span><span class="tok-w"> </span><b>(4)</b>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">byte</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">byte</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-n">char</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">filter</span><span class="tok-p">(</span><span class="tok-o">|&amp;</span><span class="tok-n">ch</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">ch</span><span class="tok-p">.</span><span class="tok-n">is_alphanumeric</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">.</span><span class="tok-n">collect</span><span class="tok-p">();</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p>Immutable variable</p></li><li><p>Type annotation for <code>collect()</code></p></li><li><p>Get an iterator</p></li><li><p>Pattern match against <code>&amp;byte</code></p></li></ol></div></section><section id="_example_with_code_for_code_loop"><h2>Example with <code>for</code> loop</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="rust language-rust"><span></span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">ch</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">index</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">string</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">zip</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">..).</span><span class="tok-n">skip</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><b>(1)</b>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">index</span><span class="tok-w"> </span><span class="tok-o">&lt;</span><span class="tok-w"> </span><span class="tok-mi">20</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">print</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;{}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ch</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-n">char</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre></div></div>
<div class="colist arabic"><ol><li><p><code>0..</code> is an infinite <code>Range</code></p></li></ol></div></section></section>
<section id="_memory_management"><h2>Memory management</h2><div class="ulist"><ul><li><p>Automatic memory management (without garbage collector)</p></li><li><p>Memory allocated on the stack by default</p></li><li><p><code>Box</code> to allocate memory on the heap</p></li><li><p>References (<code>&amp;</code> and <code>&amp;mut</code>)</p></li><li><p>Ownership</p></li><li><p>Move semantics</p></li><li><p>Lifetime to determine where to deallocate memory</p></li></ul></div></section>
<section id="_questions"><h2>Questions?</h2></section>
<section><section id="_exercises"><h2>Exercises</h2><div class="paragraph"><p><a href="http://www.rust-tutorials.com/RustConf17/" class="bare">http://www.rust-tutorials.com/RustConf17/</a></p></div><div class="ulist"><ul><li><p>Beginner: ownership &amp; references</p></li><li><p>Intermediate: traits &amp; threads</p></li><li><p>Advanced: lifetimes &amp; borrow checker</p><div class="ulist"><ul><li><p>Successful borrowing</p></li><li><p>Named lifetime parameters #3</p></li><li><p>(don&#8217;t do "Lifetimes as part of the type")</p></li></ul></div></li></ul></div></section><section id="_reminder"><h2>Reminder</h2><div class="ulist"><ul><li><p>Either one mutable reference</p></li><li><p>Or many immutable references</p></li></ul></div></section></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: false,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'black',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});</script></body></html>